2014-02-19 12:45:36,077 INFO  [bill_processor] Service Credit Batch started.
2014-02-19 12:45:36,214 ERROR [bill_processor] User NotBatchUser is not allowed to run the batch service.
gov.opm.scrd.services.AuthorizationException: Batch process user [NotBatchUser] is not found
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.doExecute(BatchProcessingJob.java:440)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.execute(BatchProcessingJob.java:377)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJobTests.testCase_BatchUserViolation(BatchProcessingJobTests.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:520)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1060)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:911)
2014-02-19 12:45:36,216 INFO  [bill_processor] Send email to general@opm.gov, subject = [Service Credit User Violation]. Message:
Service Credit Batch started at 12:45:36 PM CST on February 19, 2014. Batch done at 12:45:36 PM CST.

User NotBatchUser is not allowed to run the batch service. He does not exist. This is a serious configuration error. Call the Program Manager or DBA. 
2014-02-19 12:45:36,329 WARN  [bill_processor] Service Credit Batch has retried max 0 times today. The batch process will exit unsuccessfully.
2014-02-19 12:45:36,753 INFO  [bill_processor] Service Credit Batch started.
2014-02-19 12:45:36,792 INFO  [bill_processor] Is today holiday : false
2014-02-19 12:45:36,792 ERROR [bill_processor] Can not read folder: test_files\lockbox_files
2014-02-19 12:45:36,792 INFO  [bill_processor] Send email to general@opm.gov, subject = [SERVICE CREDIT BATCH CANNOT ACCESS NETWORK]. Message:
Service Credit Batch started at 12:45:36 PM CST on February 19, 2014. Batch done at 12:45:36 PM CST.

THE NETWORK IS DOWN! 
Network Services not Available for Service Credit. Cannot access the test_files/lockbox_files network folder. Please ask the Help Desk to investigate. SERVICE CREDIT IS SHUT DOWN UNTIL THIS ERROR IS FIXED! 
2014-02-19 12:45:36,817 WARN  [bill_processor] Service Credit Batch has retried max 0 times today. The batch process will exit unsuccessfully.
2014-02-19 12:45:37,205 INFO  [bill_processor] Service Credit Batch started.
2014-02-19 12:45:37,225 INFO  [bill_processor] Is today holiday : false
2014-02-19 12:45:37,226 ERROR [bill_processor] No files arrived today in: test_files\lockbox_files
2014-02-19 12:45:37,226 INFO  [bill_processor] Send email to general@opm.gov, subject = [SERVICE CREDIT LOCKBOX FILE IS LATE!]. Message:
Service Credit Batch started at 12:45:37 PM CST on February 19, 2014. Batch done at 12:45:37 PM CST.

Today's Lockbox Bank File has not arrived. Please notify Production Control and BSG that the data file is not in the test_files/lockbox_files network share. The nightly batch process is scheduled to run at 12:45:37 PM CST and today's import should run before that time. 
2014-02-19 12:45:37,251 WARN  [bill_processor] Service Credit Batch has retried max 0 times today. The batch process will exit unsuccessfully.
2014-02-19 12:45:37,566 INFO  [bill_processor] Service Credit Batch started.
2014-02-19 12:45:37,574 INFO  [bill_processor] Is today holiday : true
2014-02-19 12:45:37,577 INFO  [bill_processor] Start importing files in: test_files\lockbox_files
2014-02-19 12:45:37,577 INFO  [bill_processor] Start loading file content from: test_files\lockbox_files\lockbox_file_1.txt
2014-02-19 12:45:37,578 INFO  [bill_processor] 0 lines loaded from lockbox_file_1.txt which is backup to Dupe_SC021814_28.txt
2014-02-19 12:45:37,578 INFO  [bill_processor] End loading file content from: test_files\lockbox_files\lockbox_file_1.txt
2014-02-19 12:45:37,579 INFO  [bill_processor] 
Service Credit imported a data file from the bank lockbox on February 19, 2014 at 12:45:37 PM CST.
Lockbox data imported into the dbName database on server dbHostName from computer batchProcessHostName.

# Lines in file = 0
# Duplicate Lines = 0

# Records Processed = 0
# Check Payments = 0
# Good Check Payments = 0
# Bad Check Payments = 0
# Dupe Check Payments = 0
# ACH Payments = 0
# Good ACH Payments = 0
# Bad ACH Payments = 0
# Dupe ACH Payments = 0
# Bad Change Records = 0
# Good Change Records = 0
# No Match Change Records = 0
# Invalid Summary Records = 0
# Valid Summary Records = 0
# Successful Transactions = 0
# Failed Transactions = 0
# Invalid Lines = 0

Total Check Payments = 0
Total ACH Payments = 0
Total of Accepted Payments = 0
Total in File = 0

No bad records in this batch.
0 = number of successful calls to the ProcessImportRecord function.

         Accepted Payments: 0
       Unresolved Payments: 0
        Suspended Payments: 0
-----------------------------------
Pending payments processed: 0

2014-02-19 12:45:37,652 INFO  [bill_processor] Send email to general@opm.gov, subject = [Service Credit Import: OK ]. Message:
Service Credit Batch started at 12:45:37 PM CST on February 19, 2014. Batch done at 12:45:37 PM CST.

SUMMARY: The file import was successful.

   Number Type         Total
        0 ACH           0.00
        0 Check         0.00
============================
        0 All           0.00



SCRD found no payment records in this Lockbox file.


There are no change records in this Lockbox file.

DETAILS:
Audit Batch Log ID number is 28
File Contents:
 Number Type Description
====================================
      0 Total Lines in Lockbox File

Lockbox File Name:
lockbox_file_1.txt
Backup File Name:
Dupe_SC021814_28.txt

2014-02-19 12:45:37,660 INFO  [bill_processor] End importing files in: test_files\lockbox_files
2014-02-19 12:45:37,661 INFO  [bill_processor] Start cleaning old files in: test_files\old_files
2014-02-19 12:45:37,662 INFO  [bill_processor] Old files cleaned: 1
2014-02-19 12:45:37,662 INFO  [bill_processor] End cleaning old files in: test_files\old_files
2014-02-19 12:45:37,662 INFO  [bill_processor] Service Credit Batch finished successfully.
2014-02-19 12:45:37,895 INFO  [bill_processor] Service Credit Batch started.
2014-02-19 12:45:37,900 INFO  [bill_processor] Is today holiday : true
2014-02-19 12:45:37,904 INFO  [bill_processor] Start importing files in: test_files\lockbox_files
2014-02-19 12:45:37,904 INFO  [bill_processor] Start loading file content from: test_files\lockbox_files\lockbox_file_1.txt
2014-02-19 12:45:37,905 INFO  [bill_processor] 0 lines loaded from lockbox_file_1.txt which is backup to Dupe_SC021814_29.txt
2014-02-19 12:45:37,905 INFO  [bill_processor] End loading file content from: test_files\lockbox_files\lockbox_file_1.txt
2014-02-19 12:45:37,905 INFO  [bill_processor] 
Service Credit imported a data file from the bank lockbox on February 19, 2014 at 12:45:37 PM CST.
Lockbox data imported into the dbName database on server dbHostName from computer batchProcessHostName.

# Lines in file = 0
# Duplicate Lines = 0

# Records Processed = 0
# Check Payments = 0
# Good Check Payments = 0
# Bad Check Payments = 0
# Dupe Check Payments = 0
# ACH Payments = 0
# Good ACH Payments = 0
# Bad ACH Payments = 0
# Dupe ACH Payments = 0
# Bad Change Records = 0
# Good Change Records = 0
# No Match Change Records = 0
# Invalid Summary Records = 0
# Valid Summary Records = 0
# Successful Transactions = 0
# Failed Transactions = 0
# Invalid Lines = 0

Total Check Payments = 0
Total ACH Payments = 0
Total of Accepted Payments = 0
Total in File = 0

No bad records in this batch.
0 = number of successful calls to the ProcessImportRecord function.

         Accepted Payments: 0
       Unresolved Payments: 0
        Suspended Payments: 0
-----------------------------------
Pending payments processed: 0

2014-02-19 12:45:37,924 INFO  [bill_processor] Send email to general@opm.gov, subject = [Service Credit Import: OK ]. Message:
Service Credit Batch started at 12:45:37 PM CST on February 19, 2014. Batch done at 12:45:37 PM CST.

SUMMARY: The file import was successful.

   Number Type         Total
        0 ACH           0.00
        0 Check         0.00
============================
        0 All           0.00



SCRD found no payment records in this Lockbox file.


There are no change records in this Lockbox file.

DETAILS:
Audit Batch Log ID number is 29
File Contents:
 Number Type Description
====================================
      0 Total Lines in Lockbox File

Lockbox File Name:
lockbox_file_1.txt
Backup File Name:
Dupe_SC021814_29.txt

2014-02-19 12:45:37,939 INFO  [bill_processor] End importing files in: test_files\lockbox_files
2014-02-19 12:45:37,939 INFO  [bill_processor] Start cleaning old files in: test_files\old_files
2014-02-19 12:45:37,939 INFO  [bill_processor] Old files cleaned: 0
2014-02-19 12:45:37,939 INFO  [bill_processor] End cleaning old files in: test_files\old_files
2014-02-19 12:45:37,940 INFO  [bill_processor] Service Credit Batch finished successfully.
2014-02-19 12:45:38,210 INFO  [bill_processor] Service Credit Batch started.
2014-02-19 12:45:38,220 INFO  [bill_processor] Is today holiday : true
2014-02-19 12:45:38,222 INFO  [bill_processor] Start importing files in: test_files\lockbox_files
2014-02-19 12:45:38,222 INFO  [bill_processor] Start loading file content from: test_files\lockbox_files\lockbox_file_1.txt
2014-02-19 12:45:38,229 ERROR [bill_processor] Text Line import error: R64445566 bad R line
gov.opm.scrd.batchprocessing.jobs.BatchProcessingException: Text Line import error: R64445566 bad R line [See nested exception: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: Error extracting results from CallableStatement]
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.loadFileContent(BatchProcessingJob.java:870)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.importFile(BatchProcessingJob.java:725)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.importFiles(BatchProcessingJob.java:703)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.doExecute(BatchProcessingJob.java:480)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.execute(BatchProcessingJob.java:377)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJobTests.testCase_ImportFile_BadRLine(BatchProcessingJobTests.java:474)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:520)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1060)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:911)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: Error extracting results from CallableStatement
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1763)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1677)
	at org.hibernate.jpa.internal.StoredProcedureQueryImpl.execute(StoredProcedureQueryImpl.java:241)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.loadFileContent(BatchProcessingJob.java:858)
	... 37 more
Caused by: org.hibernate.exception.SQLGrammarException: Error extracting results from CallableStatement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)
	at org.hibernate.result.internal.OutputsImpl.convert(OutputsImpl.java:96)
	at org.hibernate.result.internal.OutputsImpl.extractResults(OutputsImpl.java:155)
	at org.hibernate.result.internal.OutputsImpl.extractCurrentResults(OutputsImpl.java:143)
	at org.hibernate.result.internal.OutputsImpl.access$100(OutputsImpl.java:52)
	at org.hibernate.result.internal.OutputsImpl$CurrentReturnState.buildOutput(OutputsImpl.java:212)
	at org.hibernate.result.internal.OutputsImpl$CurrentReturnState.getOutput(OutputsImpl.java:187)
	at org.hibernate.result.internal.OutputsImpl.getCurrent(OutputsImpl.java:108)
	at org.hibernate.jpa.internal.StoredProcedureQueryImpl.execute(StoredProcedureQueryImpl.java:234)
	... 38 more
Caused by: org.postgresql.util.PSQLException: ResultSet 中找不到欄位名稱 auditBatchLogId。
	at org.postgresql.jdbc2.AbstractJdbc2ResultSet.findColumn(AbstractJdbc2ResultSet.java:2727)
	at org.postgresql.jdbc2.AbstractJdbc2ResultSet.getString(AbstractJdbc2ResultSet.java:2567)
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:74)
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:64)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:263)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:259)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:249)
	at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:334)
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:2969)
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1695)
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1627)
	at org.hibernate.loader.Loader.getRow(Loader.java:1514)
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:725)
	at org.hibernate.loader.Loader.processResultSet(Loader.java:952)
	at org.hibernate.result.internal.OutputsImpl$CustomLoaderExtension.processResultSet(OutputsImpl.java:310)
	at org.hibernate.result.internal.OutputsImpl.extractResults(OutputsImpl.java:152)
	... 44 more
2014-02-19 12:45:38,230 INFO  [bill_processor] Send email to general@opm.gov, subject = [Service Credit Import: BATCH IMPORT ERROR]. Message:
Service Credit Batch started at 12:45:38 PM CST on February 19, 2014. Batch done at 12:45:38 PM CST.


Text Line import error: R64445566 bad R line
2014-02-19 12:45:38,235 WARN  [bill_processor] Service Credit Batch has retried max 0 times today. The batch process will exit unsuccessfully.
2014-02-19 12:45:38,550 INFO  [bill_processor] Service Credit Batch started.
2014-02-19 12:45:38,557 ERROR [bill_processor] Transaction not active
java.lang.IllegalStateException: Transaction not active
	at org.hibernate.jpa.internal.TransactionImpl.rollback(TransactionImpl.java:105)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.commitTransaction(BatchProcessingJob.java:1741)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.persistEntity(BatchProcessingJob.java:1759)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.initTodayAuditBatch(BatchProcessingJob.java:579)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.doExecute(BatchProcessingJob.java:471)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.execute(BatchProcessingJob.java:377)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJobTests.testCase_ImportFile_BadCLine(BatchProcessingJobTests.java:502)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:520)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1060)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:911)
2014-02-19 12:45:38,558 INFO  [bill_processor] Send email to general@opm.gov, subject = [Service Credit Nightly Batch: ERROR!!]. Message:
Service Credit Batch started at 12:45:38 PM CST on February 19, 2014. Batch done at 12:45:38 PM CST.


Transaction not active
2014-02-19 12:45:38,579 WARN  [bill_processor] Service Credit Batch has retried max 0 times today. The batch process will exit unsuccessfully.
2014-02-19 12:45:39,246 INFO  [bill_processor] Service Credit Batch started.
2014-02-19 12:45:39,253 INFO  [bill_processor] Is today holiday : true
2014-02-19 12:45:39,255 INFO  [bill_processor] Start importing files in: test_files\lockbox_files
2014-02-19 12:45:39,255 INFO  [bill_processor] Start loading file content from: test_files\lockbox_files\lockbox_file_1.txt
2014-02-19 12:45:39,257 ERROR [bill_processor] Text Line import error: R ZZZ bad Summary line
gov.opm.scrd.batchprocessing.jobs.BatchProcessingException: Text Line import error: R ZZZ bad Summary line [See nested exception: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: Error extracting results from CallableStatement]
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.loadFileContent(BatchProcessingJob.java:870)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.importFile(BatchProcessingJob.java:725)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.importFiles(BatchProcessingJob.java:703)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.doExecute(BatchProcessingJob.java:480)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.execute(BatchProcessingJob.java:377)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJobTests.testCase_ImportFile_BadSummaryLine(BatchProcessingJobTests.java:530)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:520)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1060)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:911)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: Error extracting results from CallableStatement
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1763)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1677)
	at org.hibernate.jpa.internal.StoredProcedureQueryImpl.execute(StoredProcedureQueryImpl.java:241)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.loadFileContent(BatchProcessingJob.java:858)
	... 37 more
Caused by: org.hibernate.exception.SQLGrammarException: Error extracting results from CallableStatement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)
	at org.hibernate.result.internal.OutputsImpl.convert(OutputsImpl.java:96)
	at org.hibernate.result.internal.OutputsImpl.extractResults(OutputsImpl.java:155)
	at org.hibernate.result.internal.OutputsImpl.extractCurrentResults(OutputsImpl.java:143)
	at org.hibernate.result.internal.OutputsImpl.access$100(OutputsImpl.java:52)
	at org.hibernate.result.internal.OutputsImpl$CurrentReturnState.buildOutput(OutputsImpl.java:212)
	at org.hibernate.result.internal.OutputsImpl$CurrentReturnState.getOutput(OutputsImpl.java:187)
	at org.hibernate.result.internal.OutputsImpl.getCurrent(OutputsImpl.java:108)
	at org.hibernate.jpa.internal.StoredProcedureQueryImpl.execute(StoredProcedureQueryImpl.java:234)
	... 38 more
Caused by: org.postgresql.util.PSQLException: ResultSet 中找不到欄位名稱 auditBatchLogId。
	at org.postgresql.jdbc2.AbstractJdbc2ResultSet.findColumn(AbstractJdbc2ResultSet.java:2727)
	at org.postgresql.jdbc2.AbstractJdbc2ResultSet.getString(AbstractJdbc2ResultSet.java:2567)
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:74)
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:64)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:263)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:259)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:249)
	at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:334)
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:2969)
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1695)
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1627)
	at org.hibernate.loader.Loader.getRow(Loader.java:1514)
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:725)
	at org.hibernate.loader.Loader.processResultSet(Loader.java:952)
	at org.hibernate.result.internal.OutputsImpl$CustomLoaderExtension.processResultSet(OutputsImpl.java:310)
	at org.hibernate.result.internal.OutputsImpl.extractResults(OutputsImpl.java:152)
	... 44 more
2014-02-19 12:45:39,258 INFO  [bill_processor] Send email to general@opm.gov, subject = [Service Credit Import: BATCH IMPORT ERROR]. Message:
Service Credit Batch started at 12:45:39 PM CST on February 19, 2014. Batch done at 12:45:39 PM CST.


Text Line import error: R ZZZ bad Summary line
2014-02-19 12:45:39,283 WARN  [bill_processor] Service Credit Batch has retried max 0 times today. The batch process will exit unsuccessfully.
2014-02-19 12:45:39,762 INFO  [bill_processor] Service Credit Batch started.
2014-02-19 12:45:39,769 ERROR [bill_processor] Transaction not active
java.lang.IllegalStateException: Transaction not active
	at org.hibernate.jpa.internal.TransactionImpl.rollback(TransactionImpl.java:105)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.commitTransaction(BatchProcessingJob.java:1741)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.persistEntity(BatchProcessingJob.java:1759)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.initTodayAuditBatch(BatchProcessingJob.java:579)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.doExecute(BatchProcessingJob.java:471)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.execute(BatchProcessingJob.java:377)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJobTests.testCase_ImportFile_SummaryAmountNotMatch1(BatchProcessingJobTests.java:568)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:520)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1060)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:911)
2014-02-19 12:45:39,770 INFO  [bill_processor] Send email to general@opm.gov, subject = [Service Credit Nightly Batch: ERROR!!]. Message:
Service Credit Batch started at 12:45:39 PM CST on February 19, 2014. Batch done at 12:45:39 PM CST.


Transaction not active
2014-02-19 12:45:39,775 WARN  [bill_processor] Service Credit Batch has retried max 0 times today. The batch process will exit unsuccessfully.
2014-02-19 12:45:40,512 INFO  [bill_processor] Service Credit Batch started.
2014-02-19 12:45:40,526 INFO  [bill_processor] Is today holiday : true
2014-02-19 12:45:40,528 INFO  [bill_processor] Start importing files in: test_files\lockbox_files
2014-02-19 12:45:40,528 INFO  [bill_processor] Start loading file content from: test_files\lockbox_files\lockbox_file_1.txt
2014-02-19 12:45:40,530 ERROR [bill_processor] Text Line import error: C 02      1112233031277  Chizago, IL 12345-1234
gov.opm.scrd.batchprocessing.jobs.BatchProcessingException: Text Line import error: C 02      1112233031277  Chizago, IL 12345-1234 [See nested exception: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: Error extracting results from CallableStatement]
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.loadFileContent(BatchProcessingJob.java:870)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.importFile(BatchProcessingJob.java:725)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.importFiles(BatchProcessingJob.java:703)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.doExecute(BatchProcessingJob.java:480)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.execute(BatchProcessingJob.java:377)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJobTests.testCase_ImportFile_SummaryAmountNotMatch2(BatchProcessingJobTests.java:595)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:520)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1060)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:911)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: Error extracting results from CallableStatement
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1763)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1677)
	at org.hibernate.jpa.internal.StoredProcedureQueryImpl.execute(StoredProcedureQueryImpl.java:241)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.loadFileContent(BatchProcessingJob.java:858)
	... 37 more
Caused by: org.hibernate.exception.SQLGrammarException: Error extracting results from CallableStatement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)
	at org.hibernate.result.internal.OutputsImpl.convert(OutputsImpl.java:96)
	at org.hibernate.result.internal.OutputsImpl.extractResults(OutputsImpl.java:155)
	at org.hibernate.result.internal.OutputsImpl.extractCurrentResults(OutputsImpl.java:143)
	at org.hibernate.result.internal.OutputsImpl.access$100(OutputsImpl.java:52)
	at org.hibernate.result.internal.OutputsImpl$CurrentReturnState.buildOutput(OutputsImpl.java:212)
	at org.hibernate.result.internal.OutputsImpl$CurrentReturnState.getOutput(OutputsImpl.java:187)
	at org.hibernate.result.internal.OutputsImpl.getCurrent(OutputsImpl.java:108)
	at org.hibernate.jpa.internal.StoredProcedureQueryImpl.execute(StoredProcedureQueryImpl.java:234)
	... 38 more
Caused by: org.postgresql.util.PSQLException: ResultSet 中找不到欄位名稱 auditBatchLogId。
	at org.postgresql.jdbc2.AbstractJdbc2ResultSet.findColumn(AbstractJdbc2ResultSet.java:2727)
	at org.postgresql.jdbc2.AbstractJdbc2ResultSet.getString(AbstractJdbc2ResultSet.java:2567)
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:74)
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:64)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:263)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:259)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:249)
	at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:334)
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:2969)
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1695)
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1627)
	at org.hibernate.loader.Loader.getRow(Loader.java:1514)
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:725)
	at org.hibernate.loader.Loader.processResultSet(Loader.java:952)
	at org.hibernate.result.internal.OutputsImpl$CustomLoaderExtension.processResultSet(OutputsImpl.java:310)
	at org.hibernate.result.internal.OutputsImpl.extractResults(OutputsImpl.java:152)
	... 44 more
2014-02-19 12:45:40,531 INFO  [bill_processor] Send email to general@opm.gov, subject = [Service Credit Import: BATCH IMPORT ERROR]. Message:
Service Credit Batch started at 12:45:40 PM CST on February 19, 2014. Batch done at 12:45:40 PM CST.


Text Line import error: C 02      1112233031277  Chizago, IL 12345-1234
2014-02-19 12:45:40,536 WARN  [bill_processor] Service Credit Batch has retried max 0 times today. The batch process will exit unsuccessfully.
2014-02-19 12:45:41,162 INFO  [bill_processor] Service Credit Batch started.
2014-02-19 12:45:41,170 ERROR [bill_processor] Transaction not active
java.lang.IllegalStateException: Transaction not active
	at org.hibernate.jpa.internal.TransactionImpl.rollback(TransactionImpl.java:105)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.commitTransaction(BatchProcessingJob.java:1741)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.persistEntity(BatchProcessingJob.java:1759)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.initTodayAuditBatch(BatchProcessingJob.java:579)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.doExecute(BatchProcessingJob.java:471)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.execute(BatchProcessingJob.java:377)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJobTests.testCase_ImportFile(BatchProcessingJobTests.java:623)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:520)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1060)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:911)
2014-02-19 12:45:41,170 INFO  [bill_processor] Send email to general@opm.gov, subject = [Service Credit Nightly Batch: ERROR!!]. Message:
Service Credit Batch started at 12:45:41 PM CST on February 19, 2014. Batch done at 12:45:41 PM CST.


Transaction not active
2014-02-19 12:45:41,175 WARN  [bill_processor] Service Credit Batch has retried max 0 times today. The batch process will exit unsuccessfully.
2014-02-19 12:45:41,446 INFO  [bill_processor] Service Credit Batch started.
2014-02-19 12:45:41,451 INFO  [bill_processor] Is today holiday : false
2014-02-19 12:45:41,453 INFO  [bill_processor] Start importing files in: test_files\lockbox_files
2014-02-19 12:45:41,453 INFO  [bill_processor] Start loading file content from: test_files\lockbox_files\lockbox_file_1.txt
2014-02-19 12:45:41,454 ERROR [bill_processor] Text Line import error: C 02      1112233031277  Chizago, IL 12345-1234
gov.opm.scrd.batchprocessing.jobs.BatchProcessingException: Text Line import error: C 02      1112233031277  Chizago, IL 12345-1234 [See nested exception: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: Error extracting results from CallableStatement]
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.loadFileContent(BatchProcessingJob.java:870)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.importFile(BatchProcessingJob.java:725)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.importFiles(BatchProcessingJob.java:703)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.doExecute(BatchProcessingJob.java:480)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.execute(BatchProcessingJob.java:377)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJobTests.testCase_ProcessBills(BatchProcessingJobTests.java:718)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:520)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1060)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:911)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: Error extracting results from CallableStatement
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1763)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1677)
	at org.hibernate.jpa.internal.StoredProcedureQueryImpl.execute(StoredProcedureQueryImpl.java:241)
	at gov.opm.scrd.batchprocessing.jobs.BatchProcessingJob.loadFileContent(BatchProcessingJob.java:858)
	... 37 more
Caused by: org.hibernate.exception.SQLGrammarException: Error extracting results from CallableStatement
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:123)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)
	at org.hibernate.result.internal.OutputsImpl.convert(OutputsImpl.java:96)
	at org.hibernate.result.internal.OutputsImpl.extractResults(OutputsImpl.java:155)
	at org.hibernate.result.internal.OutputsImpl.extractCurrentResults(OutputsImpl.java:143)
	at org.hibernate.result.internal.OutputsImpl.access$100(OutputsImpl.java:52)
	at org.hibernate.result.internal.OutputsImpl$CurrentReturnState.buildOutput(OutputsImpl.java:212)
	at org.hibernate.result.internal.OutputsImpl$CurrentReturnState.getOutput(OutputsImpl.java:187)
	at org.hibernate.result.internal.OutputsImpl.getCurrent(OutputsImpl.java:108)
	at org.hibernate.jpa.internal.StoredProcedureQueryImpl.execute(StoredProcedureQueryImpl.java:234)
	... 38 more
Caused by: org.postgresql.util.PSQLException: ResultSet 中找不到欄位名稱 auditBatchLogId。
	at org.postgresql.jdbc2.AbstractJdbc2ResultSet.findColumn(AbstractJdbc2ResultSet.java:2727)
	at org.postgresql.jdbc2.AbstractJdbc2ResultSet.getString(AbstractJdbc2ResultSet.java:2567)
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:74)
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:64)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:263)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:259)
	at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:249)
	at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:334)
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:2969)
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1695)
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1627)
	at org.hibernate.loader.Loader.getRow(Loader.java:1514)
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:725)
	at org.hibernate.loader.Loader.processResultSet(Loader.java:952)
	at org.hibernate.result.internal.OutputsImpl$CustomLoaderExtension.processResultSet(OutputsImpl.java:310)
	at org.hibernate.result.internal.OutputsImpl.extractResults(OutputsImpl.java:152)
	... 44 more
2014-02-19 12:45:41,456 INFO  [bill_processor] Send email to general@opm.gov, subject = [Service Credit Import: BATCH IMPORT ERROR]. Message:
Service Credit Batch started at 12:45:41 PM CST on February 19, 2014. Batch done at 12:45:41 PM CST.


Text Line import error: C 02      1112233031277  Chizago, IL 12345-1234
2014-02-19 12:45:41,464 WARN  [bill_processor] Service Credit Batch has retried max 0 times today. The batch process will exit unsuccessfully.
